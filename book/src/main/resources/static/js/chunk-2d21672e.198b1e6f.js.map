{"version":3,"sources":["webpack:///./src/views/user/AddUser.vue?de1e","webpack:///src/views/user/AddUser.vue","webpack:///./src/views/user/AddUser.vue?1777","webpack:///./src/views/user/AddUser.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","form","rules","staticStyle","model","value","callback","$$v","$set","expression","$store","state","role","_e","on","onSubmit","_v","staticRenderFns","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,IAAI,OAAOC,YAAY,gBAAgBC,MAAM,CAAC,MAAQR,EAAIS,KAAK,MAAQT,EAAIU,MAAM,cAAc,SAAS,CAACN,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACO,YAAY,CAAC,MAAQ,SAASC,MAAM,CAACC,MAAOb,EAAIS,KAAa,SAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,KAAM,WAAYM,IAAME,WAAW,oBAAoB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACO,YAAY,CAAC,MAAQ,SAASC,MAAM,CAACC,MAAOb,EAAIS,KAAa,SAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,KAAM,WAAYM,IAAME,WAAW,oBAAoB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACJ,EAAG,WAAW,CAACO,YAAY,CAAC,MAAQ,SAASC,MAAM,CAACC,MAAOb,EAAIS,KAAU,MAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,KAAM,QAASM,IAAME,WAAW,iBAAiB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,YAAc,gBAAgBI,MAAM,CAACC,MAAOb,EAAIS,KAAS,KAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,KAAM,OAAQM,IAAME,WAAW,cAAc,CAACb,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,OAAO,MAAQ,UAAoC,SAAzBP,KAAKiB,OAAOC,MAAMC,KAAehB,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,MAAM,MAAQ,WAAWR,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,eAAe,CAAEJ,EAAU,OAAEI,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,kBAAkB,KAAO,WAAWc,GAAG,CAAC,MAAQtB,EAAIuB,WAAW,CAACvB,EAAIwB,GAAG,UAAUpB,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,eAAe,KAAO,WAAWc,GAAG,CAAC,MAAQtB,EAAIuB,WAAW,CAACvB,EAAIwB,GAAG,WAAW,IAAI,IACvgDC,EAAkB,GCwBtB,G,oBAAA,CACE,QADF,WAEI,KAAJ,QAEE,KAJF,WAKI,MAAJ,CACM,KAAN,CACQ,cAAR,EACQ,cAAR,EACQ,WAAR,EACQ,UAAR,GAEM,OAAN,GACM,MAAN,CACQ,SAAR,CACA,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,SAEQ,SAAR,CACA,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,SAEQ,MAAR,CACA,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,SAEQ,KAAR,CACA,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,YAKE,QAAF,CACI,KADJ,WACM,IAAN,OACM,KAAN,oCACA,aACQ,KAAR,wDACU,EAAV,gBAII,SATJ,WASM,IAAN,OACA,YACQ,KAAR,8DACU,QAAV,OACU,EAAV,QACU,EAAV,UACU,EAAV,gCAGQ,KAAR,yDACU,QAAV,OACA,eACA,kBC3EgW,I,YCO5VC,EAAY,eACd,EACA3B,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d21672e.198b1e6f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"role\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择角色,默认为普通用户\"},model:{value:(_vm.form.role),callback:function ($$v) {_vm.$set(_vm.form, \"role\", $$v)},expression:\"form.role\"}},[_c('el-option',{attrs:{\"label\":\"普通用户\",\"value\":\"user\"}}),(this.$store.state.role==='root')?_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"admin\"}}):_vm._e()],1)],1),_c('el-form-item',[(_vm.userId)?_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\",\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"立即更新\")]):_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"立即添加\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\"\r\n             class=\"demo-ruleForm\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n            <el-input style=\"width: 300px\" v-model=\"form.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input style=\"width: 300px\" v-model=\"form.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n            <el-input style=\"width: 300px\" v-model=\"form.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色\" prop=\"role\">\r\n            <el-select v-model=\"form.role\" placeholder=\"选择角色,默认为普通用户\">\r\n                <el-option label=\"普通用户\" value=\"user\"></el-option>\r\n                <el-option v-if=\"this.$store.state.role==='root'\" label=\"管理员\" value=\"admin\"></el-option>\r\n            </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n            <el-button icon=\"el-icon-refresh\" type=\"primary\" @click=\"onSubmit\" v-if=\"userId\">立即更新</el-button>\r\n            <el-button icon=\"el-icon-plus\" type=\"primary\" @click=\"onSubmit\" v-else>立即添加</el-button>\r\n        </el-form-item>\r\n    </el-form>\r\n</template>\r\n<script>\r\n    export default {\r\n        created() {\r\n            this.init()\r\n        },\r\n        data() {\r\n            return {\r\n                form: {\r\n                    username: undefined,\r\n                    password: undefined,\r\n                    email:undefined,\r\n                    role:undefined\r\n                },\r\n                userId:'',\r\n                rules: {\r\n                    username: [\r\n                        { required: true, message: '请输入用户名', trigger: 'blur' }\r\n                    ],\r\n                    password:[\r\n                        {required: true, message: '请输入密码', trigger: 'blur' }\r\n                    ],\r\n                    email:[\r\n                        {required: true, message: '请输入邮箱', trigger: 'blur' }\r\n                    ],\r\n                    role:[\r\n                        {required: true, message: '请选择角色', trigger: 'blur' }\r\n                    ],\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            init(){\r\n                this.userId = this.$route.query.userId ||'';\r\n                if(this.userId){\r\n                    this.$axios.get(\"/book/user/\"+this.userId).then(res=>{\r\n                        this.form = res.data\r\n                    })\r\n                }\r\n            },\r\n            onSubmit() {\r\n                if(this.userId){\r\n                    this.$axios.post(\"/book/user/update/\",this.form).then(res => {\r\n                        console.log(res);\r\n                        this.form = {}\r\n                        this.userId = ''\r\n                        this.$router.replace('/userlist')\r\n                    });\r\n                }else{\r\n                    this.$axios.put(\"/book/user/add\",this.form).then(res => {\r\n                        console.log(res);\r\n                        if (res.code === 20000)\r\n                            this.form = {}\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddUser.vue?vue&type=template&id=2238a5fe&\"\nimport script from \"./AddUser.vue?vue&type=script&lang=js&\"\nexport * from \"./AddUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}