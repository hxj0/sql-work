(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab547"],{"158e":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{staticStyle:{width:"300px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"作者",prop:"author"}},[o("el-input",{staticStyle:{width:"300px"},model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1),o("el-form-item",{attrs:{label:"分类",prop:"category"}},[o("el-select",{attrs:{placeholder:"请选择图书分类"},model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId",e)},expression:"form.categoryId"}},t._l(t.categorys,(function(t){return o("el-option",{attrs:{label:t.name,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"数量",prop:"count"}},[o("el-input",{staticStyle:{width:"300px"},attrs:{type:"number",max:"200",min:"0"},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",t._n(e))},expression:"form.count"}})],1),o("el-form-item",{attrs:{label:"价格",prop:"price"}},[o("el-input",{staticStyle:{width:"300px"},attrs:{type:"number"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),o("el-form-item",{attrs:{label:"简介"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.form.introduction,callback:function(e){t.$set(t.form,"introduction",e)},expression:"form.introduction"}})],1),o("el-form-item",[t.bookId?o("el-button",{attrs:{icon:"el-icon-refresh",type:"primary"},on:{click:t.onSubmit}},[t._v("立即更新")]):o("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.onSubmit}},[t._v("立即添加")])],1)],1)},i=[],a=(o("ac1f"),o("5319"),{created:function(){this.init()},data:function(){return{form:{name:"",author:"",categoryId:"",introduction:"",count:"",price:""},categorys:[],bookId:"",rules:{name:[{required:!0,message:"请输入图书名",trigger:"blur"}],author:[{required:!0,message:"请输入作者名",trigger:"blur"}],category:[{required:!0,message:"请选择分类",trigger:"blur"}],count:[{required:!0,message:"请输入数量",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}]}}},methods:{init:function(){var t=this;this.$axios.get("/book/category/getall").then((function(e){t.categorys=e.data})),this.bookId=this.$route.query.bookId||"",this.bookId&&this.$axios.get("/book/"+this.bookId).then((function(e){t.form=e.data}))},onSubmit:function(){var t=this;this.bookId?this.$axios.post("/book/update/",this.form).then((function(e){console.log(e),t.form={},t.bookId="",t.$router.replace("/booklist")})):this.$axios.put("/book/add",this.form).then((function(e){console.log(e),t.form={}}))}}}),n=a,l=o("2877"),s=Object(l["a"])(n,r,i,!1,null,null,null);e["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d0ab547.88213995.js.map