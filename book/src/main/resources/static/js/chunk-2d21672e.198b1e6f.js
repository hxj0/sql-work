(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21672e"],{c308:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{staticStyle:{width:"300px"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{staticStyle:{width:"300px"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{staticStyle:{width:"300px"},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),t("el-form-item",{attrs:{label:"角色",prop:"role"}},[t("el-select",{attrs:{placeholder:"选择角色,默认为普通用户"},model:{value:e.form.role,callback:function(r){e.$set(e.form,"role",r)},expression:"form.role"}},[t("el-option",{attrs:{label:"普通用户",value:"user"}}),"root"===this.$store.state.role?t("el-option",{attrs:{label:"管理员",value:"admin"}}):e._e()],1)],1),t("el-form-item",[e.userId?t("el-button",{attrs:{icon:"el-icon-refresh",type:"primary"},on:{click:e.onSubmit}},[e._v("立即更新")]):t("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.onSubmit}},[e._v("立即添加")])],1)],1)},s=[],l=(t("ac1f"),t("5319"),{created:function(){this.init()},data:function(){return{form:{username:void 0,password:void 0,email:void 0,role:void 0},userId:"",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}]}}},methods:{init:function(){var e=this;this.userId=this.$route.query.userId||"",this.userId&&this.$axios.get("/book/user/"+this.userId).then((function(r){e.form=r.data}))},onSubmit:function(){var e=this;this.userId?this.$axios.post("/book/user/update/",this.form).then((function(r){console.log(r),e.form={},e.userId="",e.$router.replace("/userlist")})):this.$axios.put("/book/user/add",this.form).then((function(r){console.log(r),2e4===r.code&&(e.form={})}))}}}),i=l,a=t("2877"),u=Object(a["a"])(i,o,s,!1,null,null,null);r["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d21672e.198b1e6f.js.map