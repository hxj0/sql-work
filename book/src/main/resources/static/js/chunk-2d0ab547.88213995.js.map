{"version":3,"sources":["webpack:///./src/views/book/AddBook.vue?5335","webpack:///src/views/book/AddBook.vue","webpack:///./src/views/book/AddBook.vue?25dd","webpack:///./src/views/book/AddBook.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","form","rules","staticStyle","model","value","callback","$$v","$set","expression","_l","category","name","id","_n","on","onSubmit","_v","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,IAAI,OAAOC,MAAM,CAAC,MAAQP,EAAIQ,KAAK,MAAQR,EAAIS,MAAM,cAAc,SAAS,CAACL,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACH,EAAG,WAAW,CAACM,YAAY,CAAC,MAAQ,SAASC,MAAM,CAACC,MAAOZ,EAAIQ,KAAS,KAAEK,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,OAAQM,IAAME,WAAW,gBAAgB,GAAGZ,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,WAAW,CAACH,EAAG,WAAW,CAACM,YAAY,CAAC,MAAQ,SAASC,MAAM,CAACC,MAAOZ,EAAIQ,KAAW,OAAEK,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,SAAUM,IAAME,WAAW,kBAAkB,GAAGZ,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,WAAWI,MAAM,CAACC,MAAOZ,EAAIQ,KAAe,WAAEK,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,aAAcM,IAAME,WAAW,oBAAoBhB,EAAIiB,GAAIjB,EAAa,WAAE,SAASkB,GAAU,OAAOd,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQW,EAASC,KAAK,MAAQD,EAASE,SAAQ,IAAI,GAAGhB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACH,EAAG,WAAW,CAACM,YAAY,CAAC,MAAQ,SAASH,MAAM,CAAC,KAAO,SAAS,IAAM,MAAM,IAAM,KAAKI,MAAM,CAACC,MAAOZ,EAAIQ,KAAU,MAAEK,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,QAASR,EAAIqB,GAAGP,KAAOE,WAAW,iBAAiB,GAAGZ,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACH,EAAG,WAAW,CAACM,YAAY,CAAC,MAAQ,SAASH,MAAM,CAAC,KAAO,UAAUI,MAAM,CAACC,MAAOZ,EAAIQ,KAAU,MAAEK,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,QAASM,IAAME,WAAW,iBAAiB,GAAGZ,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,YAAYI,MAAM,CAACC,MAAOZ,EAAIQ,KAAiB,aAAEK,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,eAAgBM,IAAME,WAAW,wBAAwB,GAAGZ,EAAG,eAAe,CAAEJ,EAAU,OAAEI,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,kBAAkB,KAAO,WAAWe,GAAG,CAAC,MAAQtB,EAAIuB,WAAW,CAACvB,EAAIwB,GAAG,UAAUpB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,eAAe,KAAO,WAAWe,GAAG,CAAC,MAAQtB,EAAIuB,WAAW,CAACvB,EAAIwB,GAAG,WAAW,IAAI,IACz8DC,EAAkB,GC8BtB,G,oBAAA,CACE,QADF,WAEI,KAAJ,QAEE,KAJF,WAKI,MAAJ,CACM,KAAN,CACQ,KAAR,GACQ,OAAR,GACQ,WAAR,GACQ,aAAR,GACQ,MAAR,GACQ,MAAR,IAEM,UAAN,GACM,OAAN,GACM,MAAN,CACQ,KAAR,CACA,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,SAEQ,OAAR,CACA,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,SAEQ,SAAR,CACA,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,SAEQ,MAAR,CACA,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,SAEQ,MAAR,CACA,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,YAKE,QAAF,CACI,KADJ,WACM,IAAN,OACM,KAAN,sDACQ,EAAR,oBAEM,KAAN,oCACA,aACQ,KAAR,mDACU,EAAV,gBAII,SAZJ,WAYM,IAAN,OACA,YACQ,KAAR,yDACU,QAAV,OACU,EAAV,QACU,EAAV,UACU,EAAV,gCAGQ,KAAR,oDACU,QAAV,OACU,EAAV,eCzFgW,I,YCO5VC,EAAY,eACd,EACA3B,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d0ab547.88213995.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作者\",\"prop\":\"author\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.form.author),callback:function ($$v) {_vm.$set(_vm.form, \"author\", $$v)},expression:\"form.author\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分类\",\"prop\":\"category\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择图书分类\"},model:{value:(_vm.form.categoryId),callback:function ($$v) {_vm.$set(_vm.form, \"categoryId\", $$v)},expression:\"form.categoryId\"}},_vm._l((_vm.categorys),function(category){return _c('el-option',{attrs:{\"label\":category.name,\"value\":category.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"数量\",\"prop\":\"count\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"type\":\"number\",\"max\":\"200\",\"min\":\"0\"},model:{value:(_vm.form.count),callback:function ($$v) {_vm.$set(_vm.form, \"count\", _vm._n($$v))},expression:\"form.count\"}})],1),_c('el-form-item',{attrs:{\"label\":\"价格\",\"prop\":\"price\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"type\":\"number\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"简介\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.introduction),callback:function ($$v) {_vm.$set(_vm.form, \"introduction\", $$v)},expression:\"form.introduction\"}})],1),_c('el-form-item',[(_vm.bookId)?_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\",\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"立即更新\")]):_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"立即添加\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n    <el-form-item label=\"名称\" prop=\"name\">\r\n        <el-input style=\"width: 300px\" v-model=\"form.name\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"作者\" prop=\"author\">\r\n        <el-input style=\"width: 300px\" v-model=\"form.author\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"分类\" prop=\"category\">\r\n        <el-select v-model=\"form.categoryId\" placeholder=\"请选择图书分类\">\r\n            <el-option v-for=\"category in categorys\" :label=\"category.name\" :value=\"category.id\"></el-option>\r\n        </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"数量\" prop=\"count\">\r\n        <el-input style=\"width: 300px\" v-model.number=\"form.count\"\r\n                  type=\"number\"  max=\"200\" min=\"0\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"价格\" prop=\"price\">\r\n        <el-input style=\"width: 300px\" v-model=\"form.price\"\r\n                  type=\"number\" ></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"简介\">\r\n        <el-input type=\"textarea\" v-model=\"form.introduction\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item>\r\n        <el-button icon=\"el-icon-refresh\" type=\"primary\" @click=\"onSubmit\" v-if=\"bookId\">立即更新</el-button>\r\n        <el-button icon=\"el-icon-plus\" type=\"primary\" @click=\"onSubmit\" v-else>立即添加</el-button>\r\n    </el-form-item>\r\n</el-form>\r\n</template>\r\n<script>\r\n    export default {\r\n        created() {\r\n            this.init()\r\n        },\r\n        data() {\r\n            return {\r\n                form: {\r\n                    name: '',\r\n                    author: '',\r\n                    categoryId: '',\r\n                    introduction:'',\r\n                    count: '',\r\n                    price: ''\r\n                },\r\n                categorys:[],\r\n                bookId:'',\r\n                rules: {\r\n                    name: [\r\n                        { required: true, message: '请输入图书名', trigger: 'blur' }\r\n                    ],\r\n                    author: [\r\n                        {required: true, message: '请输入作者名', trigger: 'blur' }\r\n                    ],\r\n                    category:[\r\n                        {required: true, message: '请选择分类', trigger: 'blur' }\r\n                    ],\r\n                    count:[\r\n                        {required: true, message: '请输入数量', trigger: 'blur' }\r\n                    ],\r\n                    price:[\r\n                        {required: true, message: '请输入价格', trigger: 'blur' }\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            init(){\r\n                this.$axios.get(\"/book/category/getall\").then(res => {\r\n                    this.categorys = res.data\r\n                });\r\n                this.bookId = this.$route.query.bookId ||'';\r\n                if(this.bookId){\r\n                    this.$axios.get(\"/book/\"+this.bookId).then(res=>{\r\n                        this.form = res.data\r\n                    })\r\n                }\r\n            },\r\n            onSubmit() {\r\n                if(this.bookId){\r\n                    this.$axios.post(\"/book/update/\",this.form).then(res => {\r\n                        console.log(res);\r\n                        this.form = {}\r\n                        this.bookId = ''\r\n                        this.$router.replace('/booklist')\r\n                    });\r\n                }else{\r\n                    this.$axios.put(\"/book/add\",this.form).then(res => {\r\n                        console.log(res);\r\n                        this.form = {}\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddBook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddBook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddBook.vue?vue&type=template&id=c03d4736&\"\nimport script from \"./AddBook.vue?vue&type=script&lang=js&\"\nexport * from \"./AddBook.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}