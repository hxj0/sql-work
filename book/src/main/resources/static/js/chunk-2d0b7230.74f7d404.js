(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b7230"],{"1faf":function(e,t,n){"use strict";n.r(t);var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"600",border:"","header-cell-style":e.thStyleFun,"cell-style":e.cellStyleFun}},[n("el-table-column",{attrs:{prop:"username",label:"用户名",width:"180"}}),n("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),n("el-table-column",{attrs:{prop:"role",label:"角色",width:"180"}}),n("el-table-column",{attrs:{label:"编辑用户",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])}),n("el-table-column",{attrs:{label:"是否禁用",width:"100px",prop:"isEnabled"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{round:"",size:"mini",type:t.row.isEnabled?"primary":"danger",icon:t.row.isEnabled?"el-icon-circle-check":"el-icon-circle-close"},on:{click:function(n){return e.handleDisabledOrEnabled(t.row)}}},[e._v(e._s(t.row.isEnabled?"启用":"禁用"))])]}}])}),"user"!==e.$store.state.role?n("el-table-column",{attrs:{label:"删除用户",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return["root"!==t.row.role&&e.$store.state.role!==t.row.role?n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}],null,!1,3825633149)}):e._e()],1)],1)},o=[],a=(n("ac1f"),n("5319"),{created:function(){this.init()},data:function(){return{tableData:[{id:"",username:"",email:"",role:"",isEnabled:""}]}},methods:{init:function(){var e=this;this.$axios.get("/book/user/all").then((function(t){e.tableData=t.data,console.log(t.data)}))},thStyleFun:function(){return"text-align:center"},cellStyleFun:function(){return"text-align:center"},handleDisabledOrEnabled:function(e){this.$axios.post("/book/user/enabledorDisabled/"+e.id+"?isEnabled="+e.isEnabled).then((function(t){2e4===t.code&&(e.isEnabled=!e.isEnabled)}))},handleEdit:function(e){this.$router.replace("/adduser?userId="+e.id)},handleDelete:function(e){var t=this;this.$confirm("此操作将删除用户-"+e.username+"，是否继续？","提示",{cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){t.$axios.delete("/book/user/delete/"+e.id).then((function(e){t.init()})).catch((function(e){console.log(e)}))})).catch((function(){t.$message.info("取消删除!")}))}}}),i=a,r=n("2877"),c=Object(r["a"])(i,l,o,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0b7230.74f7d404.js.map